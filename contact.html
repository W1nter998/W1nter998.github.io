<!DOCTYPE html>
<html lang="zh-CN">
<head>
  <meta charset="UTF-8">
  <title>è”ç³»æˆ‘ä»¬ Â· é‹†èµ«è´¢ç¨</title>
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <link rel="stylesheet" href="style.css">
  <script type="module" src="supabase.js"></script>
</head>
<body>
  <!-- é¡¶éƒ¨å¯¼èˆª -->
  <header>
    <div class="logo">
      <a href="index.html"><img src="logo.png" alt="Logo"></a>
      <span>é‹†èµ«è´¢ç¨</span>
    </div>
    <nav>
      <ul class="nav-main">
        <li><a href="index.html">é¦–é¡µ</a></li>
        <li><a href="about.html">å…³äº</a></li>
        <li><a href="services.html">æœåŠ¡</a></li>
        <li><a href="knowledge.html">çŸ¥è¯†</a></li>
        <li><a href="news.html">æ–°é—»</a></li>
        <li><a href="forum.html">è®ºå›</a></li>
      </ul>
      <div class="nav-actions" id="nav-actions"></div>
    </nav>
  </header>

  <!-- ä¸»ä½“å†…å®¹ -->
  <main class="main">
    <section class="intro">
      <h1>è”ç³»æˆ‘ä»¬</h1>
      <p>å¦‚æœæ‚¨æœ‰ä»»ä½•é—®é¢˜ï¼Œæ¬¢è¿é€šè¿‡ä»¥ä¸‹æ–¹å¼è”ç³»æˆ‘ä»¬ï¼š</p>
      <ul style="text-align:left; display:inline-block; margin-top:20px;">
        <li>ğŸ“§ é‚®ç®±ï¼šsupport@yunhe-tax.com</li>
        <li>ğŸ“ ç”µè¯ï¼š17395711633</li>
        <li>ğŸ¢ åœ°å€ï¼šæ­å·å¸‚æ»¨æ±ŸåŒºè¥¿å…´è¡—é“æ³½æ˜ç§‘åˆ›å›­211</li>
      </ul>
      <div style="margin-top:30px;">
        <p>å¾®ä¿¡æ‰«ç å’¨è¯¢ï¼š</p>
        <img src="qrcode.png" alt="å¾®ä¿¡äºŒç»´ç " style="width:120px;">
      </div>
    </section>
  </main>

  <footer class="footer">
    <p>Â© 2025 æ­å·é‹†èµ«è´¢ç¨å’¨è¯¢æœ‰é™å…¬å¸</p>
  </footer>

  <script>
    // ç™»å½•çŠ¶æ€æ¸²æŸ“
    import { createClient } from 'https://cdn.jsdelivr.net/npm/@supabase/supabase-js/+esm';
    const SUPABASE_URL = "https://eiaxcwfyocnnwhkdgioh.supabase.co";
    const SUPABASE_KEY = "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9...";
    const supabase = createClient(SUPABASE_URL, SUPABASE_KEY);

    async function renderNav() {
      const { data: { user } } = await supabase.auth.getUser();
      const nav = document.getElementById('nav-actions');
      nav.innerHTML = user
        ? `<span style="color:#fff;">${user.email}</span> <button id="btn-logout">é€€å‡º</button>`
        : `<a href="login.html">ç™»å½•</a> <a href="signup.html">æ³¨å†Œ</a>`;
      if (user) {
        document.getElementById('btn-logout').onclick = async () => {
          await supabase.auth.signOut();
          renderNav();
        };
      }
    }
    renderNav();
  </script>
</body>
</html>